# make clean does not delete *.ts and *.qm files
SET_DIRECTORY_PROPERTIES(PROPERTIES CLEAN_NO_CUSTOM 1)

FILE(GLOB TRANSLATION_FILES ${CMAKE_CURRENT_LIST_DIR}/*.ts)

INCLUDE(Qt5LinguistToolsMacros)

#QT5_CREATE_TRANSLATION(TRANSLATION_MESSAGES ${FILES_TO_TRANSLATE} ${TRANSLATION_FILES})
QT5_ADD_TRANSLATION(TRANSLATION_QM ${TRANSLATION_FILES})
#ADD_CUSTOM_TARGET(translations_update DEPENDS ${TRANSLATION_MESSAGES})
ADD_CUSTOM_TARGET(translations ALL DEPENDS ${TRANSLATION_QM})
INSTALL(FILES ${TRANSLATION_QM} DESTINATION "${SYS_DATA_PATH}/i18n")
